generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider  = "postgresql"
  url       = env("POSTGRES_PRISMA_URL")
  directUrl = env("POSTGRES_URL_NON_POOLING")
}

model User {
  id       Int       @id @default(autoincrement())
  name     String
  email    String    @unique
  image    String
  password String
  is_oauth Boolean   @default(false)
  date     String
  groups   Group[]
  expenses Expense[]
}

model Group {
  id       Int       @id @default(autoincrement())
  name     String
  date     String
  members  User[]
  expenses Expense[]
}

model Expense {
  id          Int     @id @default(autoincrement())
  description String
  total       Float
  is_paid     Boolean @default(false)
  date        String
  group_id     Int
  group       Group   @relation(fields: [group_id], references: [id])
  payers      Payer[]
  user_id      Int?
  User        User?   @relation(fields: [user_id], references: [id])
}

model Payer {
  id         Int     @id @default(autoincrement())
  amount     Float
  is_paid    Boolean @default(false)
  expense_id Int
  expense    Expense @relation(fields: [expense_id], references: [id])
}
